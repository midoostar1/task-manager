<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">


<body>

<!-- START Side Navbar -->
<div th:fragment="sideNavbar" class="col-lg-3">

    <!-- START Profile Menu-->
    <div class="d-flex align-items-center d-lg-none">
        <button class="profile-button border-0 bg-transparent" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasSideNavbar" aria-controls="offcanvasSideNavbar">
            <i class="fa-brands fa-bitcoin" style="color: gold"></i>
            <span class="h6 mb-0 fw-bold d-lg-none ms-2 text-white"> Menu</span>
        </button>
    </div>
    <!-- END Profile Menu-->

    <!-- Navbar START-->
    <nav class="navbar navbar-expand-lg" style="padding-top: 0px;">
        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSideNavbar">
            <!-- Offcanvas header -->
            <div class="offcanvas-header">
                <button type="button" class="btn-close text-reset ms-auto" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
            </div>

            <!-- Offcanvas body -->
            <div class="offcanvas-body d-block px-2 px-lg-0">
                <!-- Card START -->
                <div class="card overflow-hidden">
                    <!-- Cover image -->
                    <div class="h-50px"
                         style="background-image:url('https://cdn.filestackcontent.com/svmsGOZIQxOdQmL06LHM'); background-position: center; background-size: cover; background-repeat: no-repeat;"></div>

                    <!-- Card body START -->
                    <div class="card-body pt-0">
                        <div class="text-center">

                            <!-- Avatar / Profile Pic -->
                            <div id="userProfilePic" class="avatar avatar-lg mt-n5 mb-3">
                                <a href="#">

                                    <img style="width: 50px;" class="avatar-img  border  border-3 mt-2"
                                         th:src="${user.profilePicture}" alt="">

                                </a>
                            </div>

                            <!-- User Info -->
                            <h5 class="mb-0"><a href="/userProfile"
                                                th:text="${user.firstName}+' '+${user.lastName}"></a></h5>
                            <br>
                            <small th:text="${user.userTitle}"></small>
                            <br>
                            <br>

                            <!-- User stat START -->
                            <div class="hstack gap-2 gap-xl-3 justify-content-center">
                                <!-- User stat item -->
                                <div>
                                    <h6 class="mb-0" th:text="${user.getPosts().size()}"></h6>
                                    <small>Post</small>
                                </div>

                                <!-- Divider -->
                                <!--                                <div class="vr"></div>-->
                                <!-- User stat item -->
                                <!--                                <div>-->
                                <!--                                    <h6 class="mb-0"></h6>-->
                                <!--                                    <small>Followers</small>-->
                                <!--                                </div>-->
                                <!-- Divider -->
                                <!--                                <div class="vr"></div>-->
                                <!-- User stat item -->
                                <!--                                <div>-->
                                <!--                                    <h6 class="mb-0"></h6>-->
                                <!--                                    <small>Following</small>-->
                                <!--                                </div>-->
                            </div>
                            <!-- User stat END -->

                        </div>

                        <!-- Divider -->
                        <hr>
                        <!-- Side Nav START -->
                        <ul class="nav nav-link-secondary flex-column fw-bold gap-2">
                            <li class="nav-item">
                                <a class="nav-link" href="/posts">
                                    <i class="fa-solid fa-network-wired"></i>
                                    <span> Timeline</span>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="/userProfile">
                                    <i
                                            class="fa-solid fa-money-bill-trend-up">
                                    </i>
                                    <span> Profile</span>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="/finance">
                                    <i class="fa-brands fa-bitcoin"></i>
                                    <span> Dashboard</span>
                                </a>
                            </li>

                            <!--                            <li class="nav-item">-->
                            <!--                                <a class="nav-link" href="/crypto">-->
                            <!--                                    <i class="fa-solid fa-money-bill-trend-up"></i>-->
                            <!--                                    <span> Market</span>-->
                            <!--                                </a>-->
                            <!--                            </li>-->


                            <li class="nav-item">
                                <a class="nav-link" href="/updateProfile">
                                    <i class="fa-solid fa-user"></i>
                                    <span> Update Profile</span>
                                </a>
                            </li>


                            <li sec:authorize="hasAnyAuthority('admin','super-admin')" class="nav-item">
                                <a class="nav-link btn btn-outline-secondary p-2" th:href="@{/admin/getUsers}">Manage
                                    Users</a>
                            </li>


                        </ul>
                        <!-- Side Nav END -->
                    </div>
                    <!-- Card body END -->
                    <!-- Card footer -->
                    <div class="card-footer text-center py-2">
                        <form th:action="@{/logout}" method="POST">
                            <button class="btn shareBtn" type="submit">Logout</button>
                        </form>
                    </div>
                </div>
                <!-- Card END -->

            </div>
        </div>
    </nav>
    <!-- Navbar END-->
</div>
<!-- END START Side Navbar-->

</body>
</html>